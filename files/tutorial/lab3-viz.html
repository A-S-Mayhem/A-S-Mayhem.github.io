
  <!DOCTYPE html><meta charset=UTF-8>
  <style>.node rect{cursor:pointer;fill:#fff;fill-opacity:.5;stroke:#3182bd;stroke-width:1.5px;}
  .node text{font:10px sans-serif;pointer-events:none;}
  path.link{fill:none;stroke:#9ecae1;stroke-width:1.5px;}
  .control.glyphicon{position:static;color:#4A4C4F;font-family:"Oxygen", sans-serif;cursor:pointer;}
  .scrollbox{height: 120px;border: 1px solid #e5e5e5;overflow: scroll;}
  .bar{fill: steelblue;}.axis{font: 10px sans-serif;}.axis path,.axis line{fill: none; stroke: #000;
  shape-rendering: crispEdges;}.x.axis path{display: none;}</style>
  <link href="https://fonts.googleapis.com/css?family=Oxygen" rel=stylesheet type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel=stylesheet>
  <title>STM Visualization</title><body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  <script>var margin={top:30,right:20,bottom:30,left:20},width=window.innerWidth/1.5-margin.left-margin.right,height=window.innerHeight-margin.top-margin.bottom,barHeight=20,barWidth=width*.8;
  var i=0,duration=400,root;var tree=d3.layout.tree().nodeSize([0,20]);var diagonal=d3.svg.diagonal().projection(function(d){return[d.y,d.x];});
  var svg=d3.select("body").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");
  root= {"children":[{"name":["state, presid, iraq, govern, said, will, bush"],"children":[{"name":["republican, hous, democrat, senat, bush, said, report"],"children":[{"name":["million, get, tax, want, money, oil, year"],"children":[{"name":["fanni, earmark, freddi, donat, pork, mae, compens"],"size":[1800],"topic_no":[9],"thought_1":["Conservatives try to dodge responsibility for financial crisis by blaming poor people, minorities.  \t\t\t\t\tIn the aftermath of the financial crisis, conservative commentators have blamed the Community Reinvestment Act (CRA), low-income people, minoriti"],"thought_2":["McCain admits health plan increases taxes.  \t\t\t\t\tToday, during an interview on ABC’s This Week, Sen. John McCain (R-AZ) finally admitted that his health care tax credits would not cover the costs of a comprehensive health insurance plan: Actually, my"],"prob":["get, want, even, make, money, pay, like"],"frex":["fanni, earmark, freddi, donat, pork, mae, compens"],"lift":["linux, omea, newsfox, textjavascript, scriptalreadyrequest, microsoft’, acflruncont"],"score":["pay, money, fanni, didn’t, doesn’t, want, earmark"],"proportion":["0.05"]},{"name":["mortgag, billion, market, price, auto, trillion, taxpay"],"size":[1800],"topic_no":[12],"thought_1":["The bailout is ballooning. Imagine that. Some estimates now put the total bill at over 8 trillion dollars.Those of you who thought that the money was going to the poor folks holding bad mortgages need to think again.According to Mike Sunnucks writing"],"thought_2":["Two-Thirds Of The Benefits From McCain’s New Tax Cut Go To Millionaires  \t\t\t\t\tAs part of his new economic outline – The Pension and Family Security Plan – Sen. John McCain (R-AZ) has proposed cutting the tax rate on long term capital gains and divide"],"prob":["tax, oil, econom, govern, million, compani, plan"],"frex":["mortgag, billion, market, price, auto, trillion, taxpay"],"lift":["nytco, pricesbut, puchalla, shepherdson, rabil, ‘tax, natural-ga"],"score":["tax, oil, billion, market, econom, price, economi"],"proportion":["0.06"]}],"topic_no":[9,12]},{"name":["republican, hous, senat, bush, democrat, report, said"],"children":[{"name":["report, state, offici, offic, law, investig, court"],"children":[{"name":["investig, prosecutor, pardon, depart, testifi, probe, detent"],"size":[1800],"topic_no":[4],"thought_1":["New Justice Department Inspector General Report Contains Evidence Of Gonzales Perjury  \t\t\t\t\t A new Department of Justice inspector general report released today found that former Attorney General Alberto Gonzales improperly handled secret information"],"thought_2":["New documents show improper conduct, possible jury tampering in Siegelman prosecution.  \t\t\t\t\tNew documents obtained by TIME magazine show that a U.S. Attorney who recused herself from the prosecution of former Gov. Don Siegelman (D-AL) continued to b"],"prob":["report, offici, investig, depart, former, offic, releas"],"frex":["investig, prosecutor, pardon, depart, testifi, probe, detent"],"lift":["vori, ghazi, leura, caci, bloch, astrazeneca, ausa’"],"score":["investig, depart, report, offici, attorney, intellig, former"],"proportion":["0.04"]},{"name":["court, acorn, registr, canvass, file, berkeley, suprem"],"size":[1800],"topic_no":[18],"thought_1":["The moonbats are upping the ante and pouring gallons of fresh fuel on their anti-military fire in Berkeley. Following on the heels of the Berkeley City Council’s move to grant them special parking privileges and free sound permits to protest the Mari"],"thought_2":["Update 2/2 . Internet undercover photojournalist Zombie has fresh photos of the Berkeley siege. Here’s how the anti-troop loons defaced the Marine recruitment center this time:    ***SFGate photo gallery of the siege at the Marine recruitment center."],"prob":["state, court, law, elect, rule, right, vote"],"frex":["court, acorn, registr, canvass, file, berkeley, suprem"],"lift":["capitelli, dona, kriss, hennepin, mon-fri, tdd, dmooreciberkeleycaus"],"score":["court, law, ballot, state, franken, rule, legal"],"proportion":["0.04"]}],"topic_no":[4,18]},{"name":["perino, digg, flv, waterboard, thinkprogress, r-az, thinkfast"],"size":[1800],"topic_no":[16],"thought_1":["Perino: ‘We Did Not Torture’  \t\t\t\t\tThe Bush administration repeatedly insists that it does not practice torture: “We do not torture,” President Bush declared in 2005. The U.S. “is not torturing any detainees,” White House Press Secretary Dana Perino "],"thought_2":["McClellan: Rove Is ‘Pretty Disingenuous’ When He Talks About CIA Leak, He Should Have Been Fired  \t\t\t\t\tIn his explosive new memoir, former White House Press Secretary Scott McClellan claims that on Sept. 27, 2003 he asked Karl Rove “an unambiguous, u"],"prob":["bush, said, presid, sen, say, tortur, white"],"frex":["perino, digg, flv, waterboard, thinkprogress, r-az, thinkfast"],"lift":["waterboarding’, “irrelevant”, shooter”, though”, followed-, “ineffective”, hennesi"],"score":["bush, sen, said, presid, tortur, lieberman, r-az"],"proportion":["0.04"]},{"name":["democrat, hous, senat, congress, republican, vote, bill"],"children":[{"name":["legisl, immun, fisa, aye, telecom, compromis, provis"],"size":[1800],"topic_no":[5],"thought_1":["Scroll for updates…roll call vote added…   The votes have been tallied.  228 NAY.  205 YEA.  The Crap Sandwich goes down in flames. (My liveblog of the floor debate is here.)  Still no official announcement on the House floor. Lots of yelling for “or"],"thought_2":["The massive, unprecedented trillion-dollar-plus (remember, they just pulled the figure from thin air) Bailout Crap Sandwich With Sugar On Top returns to the House. A vote is expected on Friday. I keep hearing and reading that public opposition to thi"],"prob":["bill, congress, will, bush, hous, legisl, administr"],"frex":["legisl, immun, fisa, aye, telecom, compromis, provis"],"lift":["aye, constitutionth, noe, wainstein, aderholt, biliraki, boustani"],"score":["congress, legisl, bill, hous, bush, administr, presid"],"proportion":["0.04"]},{"name":["bachmann, pelosi, dole, gingrich, boehner, hagan, reid"],"size":[1800],"topic_no":[6],"thought_1":["We've just obtained from a Democratic source a long list of 31 races that the DCCC has decided to target with ads this fall -- a list that offers a glimpse into the national Dems' view of which Republican seats are ripe targets and which Dems are vul"],"thought_2":["Here's yet more evidence that the Dems are poised for huge gains in Congress: The Cook Report has released a new set of updated rankings on 25 House races -- and all 25 are shifts in the Dems' direction.  Most of these show that a Dem incumbent who w"],"prob":["republican, democrat, senat, gop, vote, parti, conserv"],"frex":["bachmann, pelosi, dole, gingrich, boehner, hagan, reid"],"lift":["wi-, ks-, ky-, minnick, ny-, amtak-, nm-"],"score":["republican, democrat, senat, gop, vote, rep, sen"],"proportion":["0.04"]}],"topic_no":[5,6]}],"topic_no":[4,18,16,5,6]}],"topic_no":[9,12,4,18,16,5,6]},{"name":["muhammad, qur’, vers, sura, muslim, allah, taser"],"size":[1800],"topic_no":[3],"thought_1":["Sura 11, “Hud,” dates (like sura 10) from late in the Meccan period, the first part of Muhammad’s prophetic career. Its name comes from verses 50-60, which tell the story of the prophet Hud, who was according to Islamic tradition sent to the ‘Ad peop"],"thought_2":["This is yet another late Meccan sura. Its name comes from v. 35, where Abraham appears and prays, but following the convention of the naming of Qur’an chapters, this name has little to do with the content of this sura; more is said about Abraham else"],"prob":["will, one, kill, say, peopl, death, muslim"],"frex":["muhammad, qur’, vers, sura, muslim, allah, taser"],"lift":["-next, -then, -vers, ‘abba, “allah, abdur-rahman, abyssinia"],"score":["allah, muslim, muhammad, islam, qur’, death, polic"],"proportion":["0.03"]},{"name":["jewish, ideolog, allianc, german, accomplish, anti-american, embrac"],"size":[1800],"topic_no":[19],"thought_1":["Today, on the Ed Morrissey Show (3 pm ET), Kevin McCullough and I will once again explore the intersection of faith and politics.  We’ll talk about what comes next in an Obama administration, and how a loyal opposition can push back against the extre"],"thought_2":["Today, on the Ed Morrissey Show (3 pm ET), Grover Norquist and Cathy Ruse join us to discuss the future Obama administration on specific policy fronts.  Grover will explain his demand to return the $700 billion in TARP funding to the American people,"],"prob":["polit, polici, nation, support, power, issu, american"],"frex":["jewish, ideolog, allianc, german, accomplish, anti-american, embrac"],"lift":["breira, jcpa, vshalom, laskin, njdc, yesand, post-democraci"],"score":["polici, polit, power, foreign, nation, parti, support"],"proportion":["0.06"]},{"name":["iraqi, iran, iraq, forc, war, govern, militari"],"children":[{"name":["maliki, sadr, iraqi, iran, hama, iranian, mahdi"],"size":[1800],"topic_no":[14],"thought_1":["According to the US military, attacks against coalition forces and Iraqi civilians dropped to just 300 last week compared to 1600 a week last June. This represents the lowest number of attacks in that country in 4 years:The announcement appeared aime"],"thought_2":["What do you get for the terrorist organization that has everything?  A French demand for a unilateral cease-fire.  The Israelis rejected the proposal from Sarkozy’s government for a 48-hour cease-fire to negotiate a return of the truce that Hamas end"],"prob":["iraq, war, militari, iran, iraqi, troop, attack"],"frex":["maliki, sadr, iraqi, iran, hama, iranian, mahdi"],"lift":["pms, date-certain, maliki, commander--chiefthen, iraniansif, iransen, anti-us"],"score":["iraq, iraqi, iran, war, militari, troop, israel"],"proportion":["0.06"]},{"name":["russian, russia, chines, putin, soviet, europ, ossetia"],"size":[1800],"topic_no":[20],"thought_1":["Last week, Ukrainian President Viktor Yushchenko issued new restrictions on Russia's use of the Sevastopol port facilities, which included \"a requirement that the Black Sea fleet seek the permission of Ukraine's armed forces at least 72 hours prior t"],"thought_2":["Little movement has been made by Russia to take troops out as Georgia reports that \"there was scant evidence the Russians were making good on the promise they made -- when they signed a ceasefire -- to start quitting the country they invaded 12 days "],"prob":["world, govern, nation, forc, will, russia, use"],"frex":["russian, russia, chines, putin, soviet, europ, ossetia"],"lift":["sevastopol, crimea, abhkazia, lhasa, tibetan, -million-ayear, olympiad"],"score":["russia, russian, pakistan, world, china, georgia, missil"],"proportion":["0.04"]}],"topic_no":[14,20]}],"topic_no":[9,12,4,18,16,5,6,3,19,14,20]},{"name":["mccain, will, obama, campaign, one, like, say"],"children":[{"name":["campaign, john, mccain, obama, say, barack, will"],"children":[{"name":["know, peopl, can, say, will, think, like"],"children":[{"name":["care, job, america, health, togeth, afford, poverti"],"size":[1800],"topic_no":[10],"thought_1":["Speaking in Indiana right now, Obama hits McCain for a key health care answer at last night's debate, and links the attack to a ratcheted up emotional appeal on the issue, recounting his mother's twin battles with cancer and with insurance companies."],"thought_2":["In remarks he's giving in Ohio right now, Barack Obama seeks to make a campaign issue out of the unhinged tone that's been gripping McCain-Palin rallies of late, directly blaming the McCain-Palin ticket for stoking all the rage and linking it to his "],"prob":["will, american, can, countri, america, peopl, need"],"frex":["care, job, america, health, togeth, afford, poverti"],"lift":["--hour, filtrat, ninety-f, -compet, voteforchangecom, --young, -teach"],"score":["will, american, america, countri, care, health, presid"],"proportion":["0.06"]},{"name":["digbi, arent, digbyi, gasbag, linktocommentspostcount, bunch, shouldnt"],"size":[1800],"topic_no":[11],"thought_1":["(With apologies to Julia Ward Howe and her revered Battle Hymn of the Republic)Mine eyes have seen the stories from Obama's media horde;They are trampling out what sanity their liberal brains once stored.How he's using them is frightening, he's becom"],"thought_2":["Rolling In The Mud With Pigs: The Sickening Sequelby digbyIs there anything this POS can say in public that will make family values Republicans like the entire Bush family finally say enough? LIMBAUGH: Well, it's -- I mean, at some point, at some poi"],"prob":["think, like, say, peopl, know, just, thing"],"frex":["digbi, arent, digbyi, gasbag, linktocommentspostcount, bunch, shouldnt"],"lift":["unintellig, digbykevin, economymatthew, gonesweet, itwolf, lynnlynn, newsweekmatthew"],"score":["dont, think, know, hes, that, postcounttb, linktocommentspostcount"],"proportion":["0.07"]}],"topic_no":[10,11]},{"name":["palin, biden, sarah, ayer, couric, surrog, wurzelbach"],"size":[1800],"topic_no":[7],"thought_1":["A spokesperson for McCain's national campaign is pushing back on  our story yesterday reporting that McCain's Pennsylvania communications director was giving reporters an incendiary version of the attack hoax story before the facts were in.  But Keit"],"thought_2":["After attacking Barack Obama's association with William Ayers for several days running, including yesterday, Sarah Palin made no mention of Ayers in her speech at a joint appearance with McCain in Pennsylvania that ended moments ago. Neither did McCa"],"prob":["mccain, john, palin, campaign, attack, debat, biden"],"frex":["palin, biden, sarah, ayer, couric, surrog, wurzelbach"],"lift":["wpxi, sleaziest, rovito, verrilli, kmox, homina, trooper-g"],"score":["mccain, palin, campaign, john, biden, mccain’, sarah"],"proportion":["0.05"]},{"name":["obama, barack, campaign, clinton, democrat, will, hillari"],"children":[{"name":["donor, ralli, obama, barack, penn, obama’, wolfson"],"size":[1800],"topic_no":[2],"thought_1":["A few weeks ago, Media Matters' David Brock  announced to great fanfare that he was taking over Progressive Media USA, a third-party group that would, he vowed, raise $40 million for ads to soften up John McCain in advance of the general election.  N"],"thought_2":["I've just gotten clarification from the Pentagon on what really happened with regard to Barack Obama's  canceled visit to an Army base in Germany, something the McCain campaign has been using to hit Obama since yesterday.  A Pentagon spokesperson con"],"prob":["obama, campaign, barack, will, obama’, candid, one"],"frex":["donor, ralli, obama, barack, penn, obama’, wolfson"],"lift":["gittel, sell-outodd, ramstein, weak-wil, historythi, barck, stroger"],"score":["obama, barack, campaign, obama’, chicago, candid, will"],"proportion":["0.06"]},{"name":["poll, hillari, primari, superdeleg, turnout, hampshir, michigan"],"size":[1800],"topic_no":[8],"thought_1":["A new set of Rasmussen polls, all conducted yesterday in the middle of John McCain's post-convention bounce, suggests that this race remains close on the state-by-state level.  â¢ In Colorado, Obama leads by a 49%-46% margin, actually an improvement"],"thought_2":["A shocking new poll out today from Decision Analyst shows Barack Obama leading Hillary Clinton by double digits in the race for the Texas primary:Barack Obama has a double digit lead over Hillary Clinton in Texas, according to a statewide survey of 6"],"prob":["hillari, clinton, democrat, poll, vote, voter, state"],"frex":["poll, hillari, primari, superdeleg, turnout, hampshir, michigan"],"lift":["-what, post-new, toweri, starwthr, electionobama, bible-belt, rcp"],"score":["hillari, poll, clinton, voter, vote, democrat, win"],"proportion":["0.07"]}],"topic_no":[2,8]}],"topic_no":[10,11,7,2,8]},{"name":["church, usmc, film, hollywood, pastor, racism, music"],"size":[1800],"topic_no":[17],"thought_1":["October 23, 1983.  On that day, 241 U.S. Marines, soldiers, and sailors were murdered as they slept by truck bomb jihadists — who were waging a war on us long before we woke up and started fighting the war on them.  Barack Obama thinks they need more"],"thought_2":["“By defining Americanism too narrowly and backwardly, conservative patriotism risks becoming clubby. And by celebrating America too unabashedly–without sufficient regard for America’s sins–it risks degenerating from patriotism into nationalism, a sel"],"prob":["black, women, live, liber, man, one, life"],"frex":["church, usmc, film, hollywood, pastor, racism, music"],"lift":["cpl, usmc, hatetristero, coen, punditsnot, paltrow, languid"],"score":["black, church, women, film, love, life, liber"],"proportion":["0.05"]},{"name":["blagojevich, publish, abort, blogger, editor, mainstream, magazin"],"size":[1800],"topic_no":[1],"thought_1":["A controversial disclaimer the American Physical Society added days after publication to a scientific paper they had solicited from Christopher Monckton was toned down sometime yesterday in response to the considerable outrage it had sparked.By now y"],"thought_2":["Scroll for updates…Atlantic to apologize to McCain for Greenberg…will not pay for photos, considering lawsuit…      I don’t feel sorry for The Atlantic magazine.  They are quite upset after discovering that Jill Greenberg, the left-wing photographer "],"prob":["media, time, post, read, press, news, articl"],"frex":["blagojevich, publish, abort, blogger, editor, mainstream, magazin"],"lift":["bienenstock, apss, tertio, okubo, ‘emiss, bienenstockphys, decidendi"],"score":["media, blagojevich, post, book, read, articl, press"],"proportion":["0.05"]},{"name":["get, ’ll, ’re, one, just, show, like"],"children":[{"name":["warm, wright’, beck, barri, wright, see-dubya, temperatur"],"size":[1800],"topic_no":[13],"thought_1":["O’Reilly Uses Heavily Edited Ambush Segment To Attack Moyers As ‘Rude,’ ‘A Fanatic,’ ‘A Crazy Guy,’ ‘Scary’  \t\t\t\t\tDeploying one of his favorite tactics, Fox News host Bill O’Reilly sent out a “reporter” last week to ambush PBS journalist Bill Moyers,"],"thought_2":["The latest Old Farmer's Almanac predicts cooler temperatures not only next year, but for possibly the next half century. Via USA Today:Based on the same time-honored, complex calculations it uses to predict weather, the Almanac hits the newsstands on"],"prob":["’re, show, like, get, ’ll, just, one"],"frex":["warm, wright’, beck, barri, wright, see-dubya, temperatur"],"lift":["mchenry’, wintertim, daleo, wouldn’tshouldn’t, “insiders”, meteorologist, o’r"],"score":["’re, ’ll, wright, don’t, show, can’t, doesn’t"],"proportion":["0.06"]},{"name":["thompson, fred, eastern, open-bord, girl, rudi, shamnesti"],"size":[1800],"topic_no":[15],"thought_1":["I arrived in Hattiesburg, Mississippi over the weekend and will be speaking this morning at Jones County Junior College in Ellisville. The weather’s fab here and my gracious hosts took me to Angus Jack’s Steakhouse. Great ribeye. So far, though, noth"],"thought_2":["*Video highlights, lowlights, and suck-uplights at Hot Air.*  She’s baaaaaaack. On the front page of the NYTimes. On The View at 11:00am Eastern with Barbara Walter’s gabbling gals.  But don’t you dare breathe a negative word about anything  she says"],"prob":["school, immigr, stori, eastern, updat, huckabe, student"],"frex":["thompson, fred, eastern, open-bord, girl, rudi, shamnesti"],"lift":["crisis…, zzzzzzz, baccalaur, highlightslowlight, pre-k, uw-madison, “fk"],"score":["school, huckabe, eastern, immigr, romney, student, children"],"proportion":["0.04"]}],"topic_no":[13,15]}],"topic_no":[10,11,7,2,8,17,1,13,15]}],"topic_no":[9,12,4,18,16,5,6,3,19,14,20,10,11,7,2,8,17,1,13,15],"name":["STM Model"],"this_root":[true],"summary":["A topic model with 20 topics, 13246 documents and a 40792 word dictionary."],"proportions":[0.0513,0.0601,0.0346,0.044,0.0384,0.0381,0.0494,0.0681,0.0479,0.0568,0.071,0.056,0.0598,0.0565,0.0367,0.0441,0.0457,0.0382,0.0609,0.0425]}
 
 root.x0=0;root.y0=0;update(root);function update(source){var nodes=tree.nodes(root);var height=Math.max(500,nodes.length*barHeight+margin.top+margin.bottom);
  d3.select("svg").transition().duration(duration).attr("height",height);d3.select(self.frameElement).transition().duration(duration).style("height",height+"px");nodes.forEach(function(n,i){n.x=i*barHeight;});
  var node=svg.selectAll("g.node").data(nodes,function(d){return d.id||(d.id=++i);});
  var nodeEnter=node.enter().append("g").attr("class",function(d){if(d.size){return"node leaf"}else{return"node noleaf"}}).attr("transform",function(d){return"translate("+source.y0+","+source.x0+")";}).style("opacity",1e-6);
  nodeEnter.append("rect").data(nodes).attr("y",-barHeight/2).attr("height",barHeight).attr("width",barWidth).style("fill",color).on("click",clickModal);nodeEnter.append("text").attr("dy",3.5).attr("dx",5.5).text(function(d){if (d.children){return d.name;}else{return d.topic_no + ": " + d.name;}});
  d3.selectAll("g.noleaf").append("svg:foreignObject").attr("width",20).attr("height",20).attr("y","-10px").attr("x",barWidth-15).append("xhtml:span").attr("class","control glyphicon glyphicon-minus").attr("width","30").on("click",function(d){click(d);});
  nodeEnter.transition().duration(duration).attr("transform",function(d){return"translate("+d.y+","+d.x+")";}).style("opacity",1);node.transition().duration(duration).attr("transform",function(d){return"translate("+d.y+","+d.x+")";}).style("opacity",1).select("rect").style("fill",color);
  node.exit().transition().duration(duration).attr("transform",function(d){return"translate("+source.y+","+source.x+")";}).style("opacity",1e-6).remove();
  var link=svg.selectAll("path.link").data(tree.links(nodes),function(d){return d.target.id;});link.enter().insert("path","g").attr("class","link").attr("d",function(d){var o={x:source.x0,y:source.y0};return diagonal({source:o,target:o});}).transition().duration(duration).attr("d",diagonal);
  link.transition().duration(duration).attr("d",diagonal);link.exit().transition().duration(duration).attr("d",function(d){var o={x:source.x,y:source.y};return diagonal({source:o,target:o});}).remove();nodes.forEach(function(d){d.x0=d.x;d.y0=d.y;});}
  function click(d){if(d.children){d._children=d.children;d.children=null;}else{d.children=d._children;d._children=null;}update(d);}
  function color(d){return d._children?"#3182bd":d.children?"#c6dbef":"#fd8d3c";}
  function clickModal(d){if(d.size){$("#doc1").text(d.thought_1);$("#doc2").text(d.thought_2);$("#high-prob").text("Highest Probability: "+d.prob);$("#topicModalLabel").text("Topic "+d.topic_no+" Information");$("#frex").text("FREX: "+d.frex);$("#lift").text("Lift: "+d.lift);
  $("#score").text("Score: "+d.score);$("#proportion").text(""+d.proportion);$("#modelBody").hide();$("#clusterBody").hide();$("#topicBody").show();$("#topicModal").modal("show");}else if(d.this_root){$("#topicModalLabel").text("Fitted Model Information");$("#mod1-text").text(d.summary);$("#topicBody").hide();
  $("#clusterBody").hide();$("#modelBody").show();$("#topicModal").modal("show");if ($("#barchartDiv").children().length == 2){proportionChart();}}else{$("#topicModalLabel").text("Cluster Information");$("#clust1-text").text("This cluster comprises topics "+d.topic_no.join(", ")+".");$("#topicBody").hide();$("#modelBody").hide();
  $("#clusterBody").show();$("#topicModal").modal("show");}} function proportionChart(){for(var t=window.innerHeight/3.5,a=window.innerWidth/2.5,r=35,e=35,n=root.proportions.length,o=[.5];o.length<n;)o.push(o[o.length]+1);var i=d3.select("#barchartDiv").append("svg").attr({width:a,height:t,style:"display: block; margin: auto;"}),
  l=d3.scale.linear().domain([0,d3.max(root.proportions)]).range([0,t-r]),s=d3.scale.linear().domain([0,n]).range([0,a-e]),d=d3.scale.linear().domain([0,d3.max(root.proportions)]).range([t-r,0]),p=d3.svg.axis().scale(d).orient("left"),c=d3.svg.axis().scale(s).orient("bottom").tickValues(d3.range(.5,n+.5,1));
  i.selectAll("rect").data(root.proportions).enter().append("rect").attr({x:function(t,r){return r*(a-e)/n+e},y:function(a){return t-l(a)-r},width:(a-e)/n-1,height:l,fill:"orange"}),
  i.append("g").attr({"class":"axis",transform:"translate("+e+","+(t-r)+")"}).call(c),i.append("g").attr({"class":"axis",transform:"translate("+e+")"}).call(p),i.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",a/2).attr("y",t-6).text("Topic")}</script>
  <div class="modal fade" id="topicModal" tabindex="-1" role="dialog" aria-labelledby="topicModalLabel" aria-hidden="true">
  <div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="topicModalLabel">Topic Information</h4></div>
  <div class="modal-body" id="topicBody"><h5>Top Words</h5><ul id="word-list"><li id="high-prob">Highest Probability: </li><li id="frex">FREX: </li><li id="lift">Lift: </li><li id="score">Score: </li></ul><hr><h5>Representative Documents</h5>
  <div id="doc1" class="modal-body scrollbox"></div>
  <br><div id="doc2" class="modal-body scrollbox"></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div><div class="modal-body" id="modelBody"><h5>Summary</h5><span id="mod1-text"></span><hr><div id="barchartDiv">
  <h5>Topic Proportions in Corpus</h5><br></div><br><div class="modal-footer">
  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div><div class="modal-body" id="clusterBody"><h5>Summary</h5><span id="clust1-text"></span><br><br><div class="modal-footer">
  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div></div></div></body>
