---
layout: default
---

{% if page.header.overlay_color or page.header.overlay_image or page.header.image %}
  {% include page__hero.html %}
{% endif %}

{% if page.url != "/" and site.breadcrumbs %}
  {% unless paginator %}
    {% include breadcrumbs.html %}
  {% endunless %}
{% endif %}

<div id="main" role="main">
  {% include sidebar.html %}

  <div class="archive">
    {% unless page.header.overlay_color or page.header.overlay_image %}
      <h1 class="page__title">{{ page.title }}</h1>
      <input id="search__input" class="page__title" placeholder="Search publication">
      <button id="search__btn" class="page__title">Search</button>
    {% endunless %}
    {{ content }}
  </div>
</div>
<script>
  console.log("loaded script")
  input = document.getElementById("search__input")
  btn = document.getElementById("search__btn")

  btn.onclick=function(){
    console.log("click search")
    s = input.value.toLowerCase()
    list = document.getElementsByClassName("list__item")
    for(let i=0;i<list.length;i++){
        item = list[i]
        childr = [...item.firstChild.children]
        filtered = childr.filter(p=>p.innerHTML.toLowerCase().search(s) != -1)
        if(filtered.length>0){
            item.removeAttribute("hidden")
        }else{
            item.setAttribute("hidden",true)
        }
    }
  }
</script>
