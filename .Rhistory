summary(ethno)
summary(ethno$v33)
ethno$v33
ggplot() +
geom_map(
data = world, map = world,
aes(long, lat, map_id = region),
color = "black", fill = "white", size = 0.4
) +
geom_point(
data = ethno,
aes(v106, v104),
alpha = 0.6
) +
theme_void() +
theme(legend.position = "none")
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
install.packages("modelsummary")
library(modelsummary)
gm <- causaldata::gapminder
install.packages("causaldata")
gm <- causaldata::gapminder
head(gm)
install.packages("readxl")
install.packages("readxl")
library(readxl)
setwd("~/OneDrive - Centre College of Kentucky/Classes/Seminar/Spring 2022/Rstudio/R-practice/Activity 1")
data<-read_excel("activity_1.xlsx")
head(data)
summary(data$total_post)
mean(data$total_post)
var(data$total_post)
mode(data$total_post)
median(data$total_post)
mean(data$verbal_post)
test<-c(mean(data$verbal_post), mean(data$math_post))
test
mean(data[data$balsakhi==1,"total_post"])
is.na(data)
which(is.na(data))
mean(data[data$balsakhi=="","total_post"])
mean(data[data$balsakhi=="1","total_post"])
mean(data[data$balsakhi=="1",'total_post'])
mean(data[data$balsakhi==1,1])
class(data$total_post)
class(data$balsakhi)
library(diplyr)
install.packages("diplyr")
install.packages("dplyr")
library(dplyr)
balsakhi<-by_group(data$balsakhi)
balsakhi<-group_by(data$balsakhi)
balsakhi<-group_by(data,balsakhi)
balsakhi
summarize(balsakhi,mean(total_post))
class(balsakhi)
summarize(balsakhi)
summarize(balsakhi, mean(total_post))
plot(data$verbal_post,data$math_post)
setwd("~/OneDrive - Centre College of Kentucky/Classes/Seminar/Spring 2022/Rstudio/R-practice/Activity 1")
summarise(data$total_post)
summarize(data$total_post)
mean(data$total_post)
data<-read_excel("activity_1.xlsx")
head(data)
plot(data$verbal,data$math)
stats <- c(mean(data$total), median(data$total), max(data$total), min(data$total), var(data$total), range(data$total))
names(stats)<-c("Mean", "Median", "Maximum", "Minimum", "Variance", "Range")
stats
range(data$total)
stats <- c(mean(data$total), median(data$total), max(data$total), min(data$total), var(data$total), max(data$total)-min(data$total))
names(stats)<-c("Mean", "Median", "Maximum", "Minimum", "Variance", "Range") #The function names() assign labels to the values of the variable stats
stats
mean_verbal <- mean(data$verbal)
mean_math <- mean(data$math)
print("The average verbal test score is ", mean_verbal)
mean_verbal - mean_math
data <- group_by(data,balsakhi)
summarize(data, mean(total_post))
summarize(data, mean(total))
data <- group_by(data, balsakhi, male)
summarize(data, mean(total))
library(causaldata)
library(modelsummary)
library(tidyverse)
gm <- causaldata::gapminder
header(gm)
head(gm)
stats <- c(mean(gm$gdpPercap), median(gm$gdpPercap), max(gm$gdpPercap), min(gm$gdpPercap), var(gm$gdpPercap), max(gm$gdpPercap) - min(gm$gdpPercap)
))
stats
stats_gm <- c(mean(gm$gdpPercap), median(gm$gdpPercap), max(gm$gdpPercap), min(gm$gdpPercap), var(gm$gdpPercap), max(gm$gdpPercap) - min(gm$gdpPercap))
names(stats_gm) <- c("mean", "median", "maximum", "minimum", "variance", "range")
stats_gm
plot(gm$lifeExp, gm$gdpPercap)
library(dplyr)
gm <- group_by(gm, continent)
summarize(gm, mean(gm$lifeExp))
head(gm)
gm %>%                                        # Specify data frame
group_by(continents) %>%                         # Specify group indicator
summarise_at(vars(lifeExp),              # Specify column
list(name = mean))
gm %>%                                        # Specify data frame
group_by(continent) %>%                         # Specify group indicator
summarise_at(vars(lifeExp),              # Specify column
list(name = mean))
data %>%                                        # Specify data frame
group_by(balsakhi) %>%                         # Specify group indicator
summarise_at(vars(total),              # Specify column
list(name = mean))
ata <- group_by(data, balsakhi)
summarize(data, mean(total))
data %>%                                        # Specify data frame
group_by(balsakhi, male) %>%                  # Specify group indicator
summarise_at(vars(total),                     # Specify column
list(name = mean))               # Specify function
gm <- gm %>%
mutate(log_GDP_Percap = log(gdpPercap))
<- lm(lifeExp ~ log_GDPPercap, data=gm)
model1 <- lm(lifeExp ~ log_GDPPercap, data=gm)
model1 <- lm(lifeExp ~ log_GDP_Percap, data=gm)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
gm <- %>%
group_by(country) %>% #Perform calculation by group
mutate(lifeExp_within = lifeExp - mean(lifeExp),
log_GDP_Percap_within = log_GDP_Percap - mean(log_GDP_Percap)) %>%
ungroup()
head(gm)
qplot(gm$lifeExp, gm$gdpPercap)
gm <- %>%
group_by(country) %>% #Perform calculation by group
mutate(lifeExp_within = lifeExp - mean(lifeExp),
log_GDP_Percap_within = log_GDP_Percap - mean(log_GDP_Percap)) %>%
ungroup()
gm %>%
group_by(contry) %>%
summarize(mean = mean(lifeExp))
gm %>%
group_by(continent) %>%
summarize(mean = mean(lifeExp))
gm %>%                                        # Specify data frame
group_by(continent) %>%                         # Specify group indicator
summarise_at(vars(lifeExp),              # Specify column
list(name = mean))               # Specify function
data %>%                                        # Specify data frame
group_by(balsakhi) %>%                        # Specify group indicator
summarize(mean = mean(total))
data %>%                                        # Specify data frame
group_by(balsakhi) %>%                        # Specify group indicator
summarize_at(vars(total),                     # Specify column
list(name = mean))               # Specify function
data %>%                                        # Specify data frame
group_by(balsakhi, male) %>%                  # Specify group indicator
summarize(mean = mean(total))
gm <- gm %>%
group_by(country)
summarize(mean=mean(lifeExp))
gm <- gm %>%
group_by(country) $>%
gm <- gm %>%
group_by(country) %>%
summarize(mean=mean(lifeExp))
gm %>%
group_by(country) %>%
summarize(mean=mean(lifeExp))
head(gm)
gm <- causaldata::gapminder
gm <- gm %>%
mutate(log_GDP_Percap = log(gdpPercap))
model1 <- lm(lifeExp ~ log_GDP_Percap, data=gm)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
gm <- gm %>%
group_by(country) %>% #Perform calculation by group
mutate(lifeExp_within = lifeExp - mean(lifeExp),
log_GDP_Percap_within = log_GDP_Percap - mean(log_GDP_Percap)) %>%
ungroup()
model2 <- lm(lifeExp_within ~ log_GDP_Percap_within, data=gm)
msummary(model2, stars = c('*' = .1, '**' = .05, '***' = .01))
model3 <- lm(lifeExp ~ factor(country) + log(gdpPercap), data = gm)
msummary(model3, stars = c('*' = .1, '**' = .05, '***' = .01))
summary_henrique <- function(dataset){
stats <- c(mean(dataset), median(dataset), max(dataset),
min(dataset), var(dataset), max(dataset) - min(datasetp))
names(stats) <- c("mean", "median", "maximum", "minimum", "variance", "range")
return(stats)
}
summary_henrique(gm$gdpPercap)
summary_henrique <- function(dataset){
stats <- c(mean(dataset), median(dataset), max(dataset),
min(dataset), var(dataset), max(dataset) - min(dataset))
names(stats) <- c("mean", "median", "maximum", "minimum", "variance", "range")
return(stats)
}
summary_henrique(gm$gdpPercap)
head(data)
data<-read_excel("activity_1.xlsx") #open dataset
head(data)
stats <- c(mean(data$total), median(data$total), max(data$total), min(data$total), var(data$total), max(data$total)-min(data$total))
names(stats)<-c("Mean", "Median", "Maximum", "Minimum", "Variance", "Range") #The function names() assign labels to the values of the variable stats
stats
data %>%                                        # Specify data frame
group_by(balsakhi) %>%                        # Specify group indicator
summarize(mean = mean(total)) %>%
ungroup()
data %>%                                        # Specify data frame
group_by(balsakhi, male) %>%                  # Specify group indicator
summarize(mean = mean(total))
ungroup()
data %>%                                        # Specify data frame
group_by(balsakhi, male) %>%                  # Specify group indicator
summarize(mean = mean(total)) %>%
ungroup()
data <- data %>%
group_by(schoolid) %>%
mutate(total_within = total - mean(total)) %>%
ungroup()
library(modelsummary)
model1 <- lm(total_within ~ balsakhi, data=data)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model2 <- lm(total ~ balsakhi + factor(schoolid), data=data)
msummary(model2, stars = c('*' = .1, '**' = .05, '***' = .01))
data <- data %>%
group_by(schoolid) %>%
mutate(total_within = total - mean(total), balsakhi_within = balsakhi - mean(balsakhi)) %>%
ungroup()
model1 <- lm(total_within ~ balsakhi_within, data=data)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
library(causaldata)
gm <- gapminder
gm
model2 <- lm(lifeExp_within ~ log_GDP_Percap_within, data=gm)
msummary(model2, stars = c('*' = .1, '**' = .05, '***' = .01))
library(haven)
rm(list=ls())
library(haven)
setwd("~/Documents/Research Ideas/Malthus to Solow/Isolation_data")
isolation <- read_dta("AGO_JEEA_Dataset.dta")
head(isolation)
ancestral <- read_dta("Ancestral_Characteristics.dta")
head(ancestral)
ancestral$comun_size <- ancestral[ancestral$v31
==0] <- NA
ancestral$comun_size <- ancestral[ancestral$v31==0] <- NA
ancestral$comun_size <- ancestral$v31[ancestral$v31==0] <- NA
ancestral$v31[ancestral$v31==0] <- NA
ethnographic <- read_dta("Ethnographic_Atlas.dta")
ethnographic$v31[ethnographic$v31==0] <- NA
ethnographic$v8[ethnographic$v8==0] <- NA
plot(ethnographic$v8, ethnographic$v31)
summary(isolation)
colnames(isolation)
plot(isolation$isol_ooa_cont, isolation$ln_pd1500)
model1<-lm(ln_pd1500, isol_ooa_cont,data=isolation)
model1<-lm(ln_pd1500 ~ isol_ooa_cont,data=isolation)
library(modelsummary)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(ln_pd1500 ~ isol_ooa_ow,data=isolation)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(ln_pd1500 ~ isol_ooa_ow+factor(continent),data=isolation)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(ln_pd1500 ~ isol_ooa_hist+factor(continent),data=isolation)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(ln_pd1000 ~ isol_ooa_hist+factor(continent),data=isolation)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(ln_pd1 ~ isol_ooa_hist+factor(continent),data=isolation)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
library(tidyverse)
ancestral <- ancestral %>%
mutate(premarital_sex = v78_grp6/1-v78_grp1)
ancestral$premarital_sex
summary(ancestral$v78_grp1)
ancestral <- ancestral %>%
mutate(premarital_sex = v78_grp6/(1-v78_grp1))
summary(ancestral$v78_grp1)
ancestral$premarital_sex
ancestral$isocode
isolation$code
library(dplyr)
ancestral <- ancestral %>%
rename(isocode = code)
ancestral <- ancestral %>%
rename(isocode = "code")
ancestral <- ancestral %>%
rename(code = isocode)
head(ancestral)
df <- merge(ancestral, isolation, by="code")
plot(df$isol_ooa_hist, df$premarital_sex)
model1<-lm(premarital_sex ~ isol_ooa_hist+factor(continent),data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
summary(df$isol_ooa_hist)
df$isol_ooa_hist
df <- df %>%
mutate(polygamy = (v9_grp3+v9_grp4+v9_grp5+v9_grp6+v9_grp7+v9_grp8)/(1-v9_grp1))
model1<-lm(polygamy ~ isol_ooa_hist+factor(continent),data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
colnames(isolation)
model1<-lm(polygamy ~ isol_ooa_hist+factor(continent)+frontdist1500+arable+abslat,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(polygamy ~ isol_ooa_hist+factor(continent)+frontdist1500+arable+abslat+avgrug,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(polygamy ~ isol_ooa_hist+factor(continent)+frontdist1500+arable+abslat+avgrug+distcoast,data=df)
model1<-lm(polygamy ~ isol_ooa_hist+factor(continent)+frontdist1500+arable+abslat+avgrug+dist_coast,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(polygamy ~ isol_ooa_cont+factor(continent)+frontdist1500+arable+abslat+avgrug+dist_coast,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(premarital_sex ~ isol_ooa_cont+factor(continent)+frontdist1500+arable+abslat+avgrug+dist_coast,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
df <- df %>%
mutate(log_isolation_hist = log(isol_ooa_hist))
model1<-lm(premarital_sex ~ log_isolation_hist+factor(continent)+frontdist1500+arable+abslat+avgrug+dist_coast,data=df)
df <- df %>%
mutate(log_isolation_hist = log(isol_ooa_hist))
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(polygamy ~ log_isolation_hist+factor(continent)+frontdist1500+arable+abslat+avgrug+dist_coast,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(polygamy ~ log_isolation_hist+factor(continent)+frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
df <- df %>%
mutate(cousin = (1-v25_grp16)/(1-v25_grp1))
df$cousin
df <- df %>%
mutate(cousin = (1-v25_grp16-v25_grp1)/(1-v25_grp1))
df$cousin
model1<-lm(cousin ~ log_isolation_hist+factor(continent)+frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model2<-lm(polygamy ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model2, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model1, vcov=~country, stars = c('*' = .1, '**' = .05, '***' = .01))
install.packages("sandwiche")
install.packages("sandwich")
model1<-lm(cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model1, vcov=~country, stars = c('*' = .1, '**' = .05, '***' = .01))
model1<-lm(cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model1, vcov=~code, stars = c('*' = .1, '**' = .05, '***' = .01))
library(estimatr)
install.packages("estimatr")
library(estimatr)
model1<-lm_robust(formula = cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000, clusters = code,data=df)
summary(model1)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
hist_fertility <- read_dta("fert_data.dta")
install.packages("labelled")
library(labelled)
head(hist_fertility)
var_label(hist_fertility$B)
var_label(hist_fertility$D)
demog <- read_dta("data.dta")
head(demog)
var_label(demog$CDR0)
hist_fertility <- hist_fertility %>%
rename(code = countrycode)
df <- merge(df, hist_fertility, by="code")
demog <- demog %>%
rename(code = countrycode)
df <- merge(df, demog, by="code")
head(df)
model1<-lm_robust(formula = cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000, clusters = code,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
rm(df)
df <- merge(ancestral, isolation, by="code")
model1<-lm_robust(formula = cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000, clusters = code,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
df <- df %>%
mutate(polygamy = (v9_grp3+v9_grp4+v9_grp5+v9_grp6+v9_grp7+v9_grp8)/(1-v9_grp1))
##Generate proportion of ancestors who prefered cousin marriage
df <- df %>%
mutate(cousin = (1-v25_grp16-v25_grp1)/(1-v25_grp1))
##Take log of isolation index
df <- df %>%
mutate(log_isolation_hist = log(isol_ooa_hist))
model1<-lm_robust(formula = cousin ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000, clusters = code,data=df)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model2<-lm(polygamy ~ log_isolation_hist+factor(continent)+
frontdist1500+arable+abslat+avgrug+dist_coast+ln_gdp2000,data=df)
msummary(model2, stars = c('*' = .1, '**' = .05, '***' = .01))
demog <- demog %>%
rename(code = countrycode)
df <- merge(df, demog, by="code")
fert_trans <-read_dta("reher_WBcode.dta")
head(fert_trans)
head(hist_fertility)
head(demog)
head(hist_fertility)
setwd("~/OneDrive - Centre College of Kentucky/Classes/Seminar/Spring 2022/Rstudio/R-practice/Activity_4")
rm()
library(readxl)
data <- read_excel("activity_4.xlsx")
head(data)
class(data$lpd1500s)
data <- data %>%
mutate(log_gdppc_1995 = log(gdppc_1995))
data <- data %>%
mutate(log_gdppc_1995 = log(gdppc_1995), log_exprop85_95 = log(exprop85_95))
plot(data$log_exprop85_95, data$log_gdppc_1995)
library(modelsummary)
model1 <- lm(log_gdppc_95 ~ log_gdppc_95, data = data)
model1 <- lm(log_gdppc_1995 ~ log_gdppc_95, data = data)
model1 <- lm(log_gdppc_1995 ~ log_exprop85_95, data = data)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
model2 <- lm(log_gdppc_1995 ~ log_exprop85_95 + latitude + asia + africa + america, data = data)
msummary(model2, stars = c('*' = .1, '**' = .05, '***' = .01))
model3 <- lm(log_exprop85_95 ~ log_settler_mortality + latitude + asia + africa + america, data = data)
msummary(model3, stars = c('*' = .1, '**' = .05, '***' = .01))
model3 <- lm(log_exprop85_95 ~ log_settler_mortality, data = data)
msummary(model3, stars = c('*' = .1, '**' = .05, '***' = .01))
install.packages("ivpack")
(ivpack)
iv_model <- ivreg(log_gdppc_1995 ~ log_exprop85_95 | log_exprop85_95, data = data)
library(ivpack)
iv_model <- ivreg(log_gdppc_1995 ~ log_exprop85_95 | log_exprop85_95, data = data)
msummary(iv_model, stars = c('*' = .1, '**' = .05, '***' = .01))
msummary(model3, stars = c('*' = .1, '**' = .05, '***' = .01))
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
iv_model <- ivreg(log_gdppc_1995 ~ log_exprop85_95 | log_settler_mortality, data = data)
msummary(iv_model, stars = c('*' = .1, '**' = .05, '***' = .01))
install.packages("AER")
library(AER)
data <- CigarettesSW
data <- data(CigarettesSW)
head(data)
data(CigarettesSW)
head(CigarettesSW)
CigarettesSW <- CigarettesSW %>%
mutate(real_price = price/cpi, real_tax = taxs/cpi, log_price = log(real_price), log_packs = log(packs))
CigarettesSW <- CigarettesSW %>%
mutate(real_price = price/cpi, real_tax = taxs/cpi,
log_price = log(real_price), log_packs = log(packs))
library(tidyverse)
CigarettesSW <- CigarettesSW %>%
mutate(real_price = price/cpi, real_tax = taxs/cpi,
log_price = log(real_price), log_packs = log(packs))
head(CigarettesSW)
library(ivpack)
model <- ivreg(log_pack ~ log_price | real_tax, data = CigarettesSW)
model <- ivreg(log_packs ~ log_price | real_tax, data = CigarettesSW)
library(modelsummary)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
msummary(model, stars = c('*' = .1, '**' = .05, '***' = .01))
library(tidyverse)
CigarettesSW <- CigarettesSW %>%
mutate(log_income = log(income))
ivmodel_2 <- ivreg(log_packs ~ log_price _ log_income | log_income + real_tax, data = CigarettesSW)
ivmodel_2 <- ivreg(log_packs ~ log_price + log_income | log_income + real_tax, data = CigarettesSW)
msummary(ivmodel_2, stars = c('*' = .1, '**' = .05, '***' = .01))
plot(data$log_exprop85_95, data$log_gdppc_1995)
data <- data %>%
mutate(log_gdppc_1995 = log(gdppc_1995), log_exprop85_95 = log(exprop85_95))
library(tidyverse)
library(readxl)
library(tidyverse)
data <- read_excel("activity_4.xlsx")
data <- data %>%
mutate(log_gdppc_1995 = log(gdppc_1995), log_exprop85_95 = log(exprop85_95))
plot(data$log_exprop85_95, data$log_gdppc_1995)
setwd("~/OneDrive - Centre College of Kentucky/Classes/Seminar/Spring 2022/Rstudio/R-practice/Activity 1")
data<-read_excel("activity_1.xlsx") #open dataset
head(data) #Check the variables and how the data is structured
stats <- c(mean(data$total), median(data$total), max(data$total), min(data$total), var(data$total), max(data$total)-min(data$total))
names(stats)<-c("Mean", "Median", "Maximum", "Minimum", "Variance", "Range") #The function names() assign labels to the values of the variable stats
stats
mean_verbal <- mean(data$verbal) #Find the mean verbal test score
mean_math <- mean(data$math) #Find the mean math test score
mean_verbal - mean_math
plot(data$verbal,data$math)
data <- data %>%
group_by(schoolid) %>%
mutate(total_within = total - mean(total), balsakhi_within = balsakhi - mean(balsakhi)) %>%
ungroup()
model1 <- lm(total_within ~ balsakhi_within, data=data)
msummary(model1, stars = c('*' = .1, '**' = .05, '***' = .01))
library(tidyverse)
library(readxl)
library(dplyr)
library(modelsummary)
#First set the working directory where the file "activity_1.xlsx" is located
setwd("~/OneDrive - Centre College of Kentucky/Classes/Seminar/Spring 2022/Rstudio/R-practice/DID_Activity")
data<-read_excel("DID_activity.xlsx") #open dataset
data %>%                                        # Specify data frame
group_by(balsakhi) %>%                        # Specify group indicator
summarize(mean = mean(total_post)) %>%
ungroup()
data %>%                                        # Specify data frame
group_by(balsakhi) %>%                  # Specify group indicator
summarize(mean_post = mean(total_post[balsakhi==1]), mean_pre = mean(total_pre[balsakhi==1])) %>%
ungroup()
data %>%                                        # Specify data frame
group_by(balsakhi) %>%                        # Specify group indicator
summarize(mean_post = mean(total_post), mean_pre = mean(total_pre)) %>%
ungroup()
reg <- read_excel("Regression.xlsx")
reg$interaction <- reg$balsakhi*reg$post #Create interaction term
did_1 <- lm(total ~ balsakhi + post + interaction, data = reg)
msummary(did_1, stars = c('*' = .1, '**' = .05, '***' = .01))
did_2 <- lm(total ~ balsakhi*post, data = reg)
msummary(did_2, stars = c('*' = .1, '**' = .05, '***' = .01))
did_3 <- lm(total ~ balsakhi*post + male + numstud, data = reg)
msummary(did_3, stars = c('*' = .1, '**' = .05, '***' = .01))
